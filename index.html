<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Emergency Service</title>
    <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/7.0.0/css/all.min.css"
      integrity="sha512-DxV+EoADOkOygM4IR9yXP8Sb2qwgidEmeqAEmDKIOfPRQZOWbXCzLC6vjbZyy0vPisbH2SyW27+ddLVCN+OMzQ=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:ital,opsz,wght@0,14..32,100..900;1,14..32,100..900&display=swap"
      rel="stylesheet"
    />
  </head>
  <body class="mx-auto bg-[#f5fff6]">
    <header class="py-5 flex justify-between items-center gap-4 lg:px-8 px-5">
      <div class="flex item-start gap-2.5">
        <img src="./assets/logo.png" alt="site logo" class="size-12" />
        <h2 class="font-bold text-lg">
          Emergency <br />
          Service
        </h2>
      </div>

      <div class="flex justify-center items-center gap-2.5">
        <div class="border rounded-4xl px-2.5 py-0.5 font-semibold">
          <span id="heart">0</span> ‚ù§
        </div>
        <div class="rounded-4xl bg-[#41FF6B1A] px-2.5 py-1 font-semibold">
          <span class="w-[32px] h-[24]" id="credit">100</span>
          ü™ô
        </div>
        <div
          class="rounded-4xl bg-[#00a63e] text-white px-2.5 py-1 font-semibold flex items-center gap-1"
        >
          <span id="copy">0</span> <span>Copy</span>
        </div>
      </div>
    </header>

    <section class="bg-[#006747] h-fit w-full py-8">
      <div
        class="flex flex-col items-center justify-center text-center m-auto bg-[#006747]"
      >
        <div>
          <img src="./assets/logo.png" alt="" class="w-[92px] h-[92px] mt-3" />
        </div>
        <div>
          <h2 class="font-semibold text-[40px] text-white">
            Emergency Service Directory
          </h2>
          <p class="text-white text-[20px]">
            Government Emergency Services at Your Fingertip ‚Äì A Project by
            Government of the People‚Äôs Republic of Bangladesh
          </p>
        </div>
      </div>
    </section>
    <main
      class="grid grid-cols-1 lg:grid-cols-4 justify-center items-stretch gap-3 lg:p-8 p-5"
    >
      <section
        class="bg-white p-5 shadow rounded-xl grid grid-cols-1 lg:grid-cols-3 lg:col-span-3 gap-5"
        id="service-container"
      ></section>
      <aside class="bg-white p-5 w-full shadow rounded-xl space-y-5">
        <div class="flex items-center justify-between w-full">
          <h3>
            <i class="fa-regular fa-clock text-gray-500"></i>
            Call Histroy
          </h3>

          <button
            onclick="handleClear()"
            class="bg-[#00a63e] text-[18px] rounded-4xl border-none text-white w-20 h-8"
          >
            Clear
          </button>
        </div>

        <ul id="log-container" class="space-y-4">
          <li class="rounded bg-gray-100 p-4">
            <div class="flex justify-between items-center">
              <h1 class="font-semibold text-xl">Police Helpline Number</h1>
              <p class="text-[18px] font-[400]">11:36:58</p>
            </div>
            <h4 class="font-bold text-[22px] text-gray-500">999</h4>
          </li>
          <li class="rounded bg-gray-100 p-4">
            <div class="flex justify-between items-center">
              <h1 class="font-semibold text-xl">Police Helpline Number</h1>
              <p class="text-[18px] font-[400]">11:36:58</p>
            </div>
            <h4 class="font-bold text-[22px] text-gray-500">999</h4>
          </li>
          <li class="rounded bg-gray-100 p-4">
            <div class="flex justify-between items-center">
              <h1 class="font-semibold text-xl">Police Helpline Number</h1>
              <p class="text-[18px] font-[400]">11:36:58</p>
            </div>
            <h4 class="font-bold text-[22px] text-gray-500">999</h4>
          </li>
        </ul>
      </aside>
    </main>

    <script>
      const heartContainer = document.getElementById("heart");
      const copyContainer = document.getElementById("copy");
      const creditContainer = document.getElementById("credit");
      const serivceContainer = document.getElementById("service-container");
      const logContainer = document.getElementById("log-container");

      const helplines = [
        {
          id: 1,
          title: "National Emergency Number",
          subtitle: "National Emergency",
          number: "999",
          category: "All",
          icon: "./assets/emergency.png",
        },
        {
          id: 2,
          title: "Police Helpline Number",
          subtitle: "Police",
          number: "999",
          category: "Police",
          icon: "./assets/police.png",
        },
        {
          id: 3,
          title: "Fire Service Number",
          subtitle: "Fire Service",
          number: "999",
          category: "Fire",
          icon: "./assets/fire-service.png",
        },
        {
          id: 4,
          title: "Ambulance Service",
          subtitle: "Ambulance",
          number: "1994-999999",
          category: "Health",
          icon: "./assets/ambulance.png",
        },
        {
          id: 5,
          title: "Women & Child Helpline",
          subtitle: "Women & Child Helpline",
          number: "109",
          category: "Help",
          icon: "./assets/emergency.png",
        },
        {
          id: 6,
          title: "Anti-Corruption Helpline",
          subtitle: "Anti-Corruption",
          number: "106",
          category: "Govt.",
          icon: "./assets/emergency.png",
        },
        {
          id: 7,
          title: "Electricity Helpline",
          subtitle: "Electricity Outage",
          number: "16216",
          category: "Electricity",
          icon: "./assets/emergency.png",
        },
        {
          id: 8,
          title: "Brac Helpline",
          subtitle: "Brac",
          number: "16445",
          category: "NGO",
          icon: "./assets/emergency.png",
        },
        {
          id: 9,
          title: "Bangladesh Railway Helpline",
          subtitle: "Bangladesh Railway",
          number: "163",
          category: "Travel",
          icon: "./assets/emergency.png",
        },
      ];

      function handleCall(title, number) {
        let creditValue = parseInt(creditContainer.textContent, 10);
        if (creditValue === 0) {
          alert("balance finished");
          return;
        }

        creditValue -= 20;
        creditContainer.textContent = creditValue;
        const now = new Date().toLocaleString([], {
          hour: "2-digit",
          minute: "2-digit",
          second: "2-digit",
        });
        const logCard = document.createElement("li");

        logCard.classList.add("rounded", "bg-gray-100", "p-4");

        logCard.innerHTML = `
    <div class="flex justify-between items-center">
        <h1 class="font-semibold text-xl">${title}</h1>
        <p class="text-[18px] font-[400]">${now}</p>
    </div>
    <h4 class="font-bold text-[22px] text-gray-500">${number}</h4>
`;

        logContainer.appendChild(logCard);

        alert(`${title} - ${number}`);
      }

      function handleClear() {
        logContainer.innerHTML = "";
      }

      let heartCount = 0;
      function handlefavourite(btn) {
        const button = btn.querySelector("i");
        if (button.classList.contains("fa-solid")) {
          button.classList.remove("fa-solid");
          button.classList.add("fa-regular");
          heartCount--;
        } else {
          button.classList.remove("fa-regular");
          button.classList.add("fa-solid");
          heartCount++;
        }
        heartContainer.textContent = heartCount;
      }

      let copyCount = 0;
      function handleButton(btn) {
        if (btn.classList.contains("active")) {
          btn.classList.remove("active");
          copyCount--;
        } else {
          btn.classList.add("active");
          copyCount++;
        }
        copyContainer.textContent = copyCount;
      }

      helplines.forEach((item) => {
        const card = `
    <div class="shadow rounded-2xl bg-white p-6 space-y-3">
      <div class="flex justify-between items-center">
        <div class="bg-[#ffe3e2] rounded-2xl size-15">
          <img src="${item.icon}" alt="${item.title}" class="size-8 ml-3 mt-2">
        </div>
        <div>
          <button onclick ="handlefavourite(this)" class="mr-6 h-[24px] w-[24px]"><i class="fa-regular fa-heart"></i></button>
        </div>
      </div>
      <h3 class="mb-3 font-bold text-2xl">${item.title}</h3>
      <p class="text-gray-500 text-[18px]">${item.subtitle}</p>
      <h2 class="font-bold text-2xl ml-2 mt-2">${item.number}</h2>
      <button class="btn w-[61px] h-[37px] bg-gray-200 rounded-3xl text-[16px] ml-2 text-gray-500 border-none mt-1">
        ${item.category}
      </button>
      <div class="flex justify-center gap-2">
        <div class="flex-1">
          <button onclick="handleButton(this)" class="btn border btn-natural btn-outline mt-8 w-full h-[40px] rounded-[8px]">Copy</button>
        </div>
        <div class="flex-1">
          <button onclick="handleCall('${item.title}', '${item.number}')" class="btn bg-[#00a63e] mt-8 w-full h-[40px] rounded-[8PX]">
            <i class="fa-solid fa-phone"> </i> Call 
          </button>
        </div>
      </div>
    </div>
  `;

        serivceContainer.innerHTML += card;
      });
    </script>
  </body>
</html>
